(this["webpackJsonpkpierce-shopify-w2022"]=this["webpackJsonpkpierce-shopify-w2022"]||[]).push([[0],{50:function(e,t,a){},51:function(e,t,a){},75:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),i=a(10),s=a.n(i),r=(a(50),a(3)),o=a.p+"static/media/rocket-loader.e26e31f3.svg",l=a(38),d=(a(51),a(1)),j=function(e){var t=e.openSpacestagram,a=Object(n.useState)(""),c=Object(r.a)(a,2),i=c[0],s=c[1];return Object(d.jsxs)("div",{className:"homepage-wrapper",children:[Object(d.jsxs)("div",{className:"homepage-header",children:[Object(d.jsx)("h1",{className:i?"fadeout-animation":"",children:"SPACESTAGRAM"}),Object(d.jsx)("img",{height:"60",width:"60",src:o,alt:"spacestagram main logo",className:i})]}),Object(d.jsx)(l.a,{"aria-label":"Open spacestagram",className:i?"fadeout-animation":"",onClick:function(){s("animate-mode"),t()},children:"Begin your journey"})]})},u=a(15),p=a(28),h=a.n(p),m=a(39),b=a(40),g=a.n(b),f=a(91),O=a(89),w=a(44),v=a.p+"static/media/link-icon.8d570e79.svg",x=a.p+"static/media/heart-full-icon.65b6419a.svg",S=a.p+"static/media/heart-empty-icon.35384cfe.svg",k=(a(75),a(76),function(e){var t=e.imageData,a=e.onPostInteractionHandler,c=Object(n.useState)(!1),i=Object(r.a)(c,2),s=i[0],o=i[1];Object(n.useEffect)((function(){var e=JSON.parse(window.localStorage.getItem("likedPosts")).find((function(e){return e.identifier==t.identifier}));e&&1==e.liked&&o(!0)}),[]);return Object(d.jsx)("div",{className:"spacestagram-card-wrapper",children:Object(d.jsx)(f.a,{children:Object(d.jsxs)(f.a.Body,{children:[Object(d.jsx)(w.a,{src:t.url,zoomSrc:t.url,alt:"Photo of Earth taken by NASA's EPIC camera",zoomType:"hover",zoomScale:1.25,width:566,height:566}),Object(d.jsxs)("div",{className:"interactions-row",children:[Object(d.jsx)(l.a,{"aria-label":"Like button",onClick:function(){if(s){var e=JSON.parse(window.localStorage.getItem("likedPosts"));e=e.filter((function(e){return e.identifier!=t.identifier})),window.localStorage.setItem("likedPosts",JSON.stringify(e)),a("Unliked post")}else{var n=JSON.parse(window.localStorage.getItem("likedPosts"));n.push({identifier:t.identifier,liked:!s}),window.localStorage.setItem("likedPosts",JSON.stringify(n)),a("Liked post")}o(!s)},variant:"none",className:"like-btn",children:1==s?Object(d.jsx)("img",{alt:"Liked post icon",src:x}):Object(d.jsx)("img",{alt:"Unliked post icon",src:S})}),Object(d.jsxs)(O.a,{children:[Object(d.jsx)(O.a.Toggle,{variant:"none","aria-label":"Share button",className:"share-btn",children:Object(d.jsx)("img",{width:"32",alt:"Ei-share-apple",src:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c8/Ei-share-apple.svg/512px-Ei-share-apple.svg.png"})}),Object(d.jsx)(O.a.Menu,{children:Object(d.jsx)(O.a.Item,{"aria-label":"Copy link",onClick:function(e){a("Link copied to clipboard"),navigator.clipboard.writeText("".concat(t.url))},children:Object(d.jsx)("div",{className:"share-dropdown-content",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{width:"16",alt:"Link icon",src:v}),"Copy link to Image"]})})})})]})]}),Object(d.jsx)(f.a.Text,{className:"caption",children:t.caption}),Object(d.jsx)(f.a.Text,{className:"date",children:t.date.split(" ")[0]})]})})})}),N=(a(77),["Scouring space for images","Asking NOAA DSCOVR to send images","Exploring the universe for images","Kindly asking NASA for images"]),E=function(e){var t=e.showMsg,a=void 0===t||t,n=N[Math.floor(Math.random()*N.length)];return Object(d.jsxs)("div",{className:"loading-wrapper"+(a?"":" lazy-load"),children:[Object(d.jsx)("img",{className:"loader",src:o,height:"100",alt:"Loading Icon"}),Object(d.jsx)("h4",{children:a?n:""})]})},y=a(88),I=a(90),P=(a(78),a.p+"static/media/arrow-up-icon.eef88ed4.svg"),C=function(){window.scrollTo({top:0,behaviour:"smooth"})},T=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){window.addEventListener("scroll",(function(){window.pageYOffset>500?c(!0):c(!1)}))}),[]),Object(d.jsx)("div",{className:"scroll-button-wrapper",children:Object(d.jsx)(l.a,{"aria-label":"Scroll to top",className:"scroll-button"+(a?" show":""),onClick:C,children:Object(d.jsx)("img",{alt:"Up arrow",src:P})})})},A=(a(79),function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(!1),s=Object(r.a)(i,2),l=s[0],j=s[1],p=Object(n.useState)(!1),b=Object(r.a)(p,2),f=b[0],O=b[1],w=Object(n.useState)([]),v=Object(r.a)(w,2),x=v[0],S=v[1],N=Object(n.useRef)(2);Object(n.useEffect)((function(){JSON.parse(window.localStorage.getItem("likedPosts"))||window.localStorage.setItem("likedPosts",JSON.stringify([])),P(),window.addEventListener("scroll",(function(){Math.ceil(window.innerHeight+document.documentElement.scrollTop)!==document.documentElement.offsetHeight||f||O(!0)}))}),[]),Object(n.useEffect)((function(){if(x.length>0){var e=window.setTimeout((function(){return S([])}),5e3);return function(){return clearTimeout(e)}}}),[x]),Object(n.useEffect)((function(){f&&P()}),[f]);var P=function(){var e=Object(m.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new Date).setDate(t.getDate()-N.current),a=String(t.toISOString().slice(0,10)),e.next=5,g()({method:"get",url:"https://api.nasa.gov/EPIC/api/natural/date/".concat(a,"?api_key=").concat("vxZwwUvpSDaBWPFhWaSWD5J4FDCJuIGQApvcv8Xi")}).then((function(e){C(e)})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(e){var t;0==(null===(t=e.data)||void 0===t?void 0:t.length)?(N.current++,P()):A(e.data)},A=function(e){var t=e.map((function(e){var t=e.date.split(" ")[0].split("-"),a=t[0],n=t[1],c=t[2],i="https://epic.gsfc.nasa.gov/archive/natural/".concat(a,"/").concat(n,"/").concat(c,"/jpg/").concat(e.image,".jpg");return e.url=i,e}));c((function(e){return[].concat(Object(u.a)(e),Object(u.a)(t))})),j(!0),N.current++,O(!1)},J=function(e){S([].concat(Object(u.a)(x),[e]))};return Object(d.jsxs)("div",{className:"spacestagram-view-wrapper",children:[l&&a?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"spacestagram-header",children:Object(d.jsxs)("div",{className:"spacestagram-header-content",onClick:function(){return window.scrollTo({top:0,behaviour:"smooth"})},children:[Object(d.jsx)("h1",{children:"SPACESTAGRAM"}),Object(d.jsx)("img",{height:"60",src:o,alt:"spacestagram main logo"})]})}),Object(d.jsx)("div",{className:"spacestagram-cards-holder",children:a.map((function(e){return Object(d.jsx)(k,{onPostInteractionHandler:J,imageData:e},e.identifier)}))})]}):Object(d.jsx)(E,{}),f?Object(d.jsx)(E,{showMsg:!1}):Object(d.jsx)(d.Fragment,{}),Object(d.jsx)(y.a,{children:x&&x.map((function(e,t){return Object(d.jsx)(I.a,{children:Object(d.jsx)(I.a.Header,{children:Object(d.jsx)("strong",{className:"me-auto",children:e})})},t)}))}),Object(d.jsx)(T,{})]})}),J=(a(80),function(){var e=Object(n.useState)(!0),t=Object(r.a)(e,2),a=t[0],c=t[1];return Object(d.jsx)("div",{className:"app-wrapper",children:Object(d.jsx)("header",{className:"app-header",children:a?Object(d.jsx)(j,{openSpacestagram:function(){window.setTimeout((function(){c(!1)}),1e3)}}):Object(d.jsx)(A,{})})})}),D=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,92)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),i(e),s(e)}))};a(81);s.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(J,{})}),document.getElementById("root")),D()}},[[82,1,2]]]);
//# sourceMappingURL=main.71d24e02.chunk.js.map